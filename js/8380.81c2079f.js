"use strict";(self["webpackChunkvelzon"]=self["webpackChunkvelzon"]||[]).push([[8380],{311:function(e,t,a){a.r(t),a.d(t,{default:function(){return oe}});a(4114);var s=a(641),l=a(953),i=a(33),n=a(5411),d=a(8674),r=a(7016),o=a(8865),c=a(5885);const u={class:"d-flex flex-column h-100"},v={class:"d-flex align-items-center"},p={class:"flex-grow-1 overflow-hidden"},b={class:"fs-22 fw-semibold ff-secondary mb-0"},h={class:"flex-shrink-0"},f={class:"d-flex align-items-center"},k={class:"flex-grow-1 overflow-hidden"},m={class:"fs-22 fw-semibold ff-secondary mb-0"},g={class:"flex-shrink-0"},w={class:"d-flex align-items-center"},x={class:"flex-grow-1 overflow-hidden"},L={class:"fs-22 fw-semibold ff-secondary mb-0"},_={class:"flex-shrink-0"},y={class:"d-flex align-items-center"},F={class:"flex-grow-1 overflow-hidden"},P={class:"fs-22 fw-semibold ff-secondary mb-0"},B={class:"flex-shrink-0"},A={class:"d-flex align-items-center"},C={class:"flex-grow-1 overflow-hidden"},z={class:"fs-22 fw-semibold ff-secondary mb-0"},J={class:"flex-shrink-0"},R={class:"d-flex align-items-center"},V={class:"flex-grow-1 overflow-hidden"},j={class:"fs-22 fw-semibold ff-secondary mb-0"},E={class:"flex-shrink-0"};var X={__name:"job-widgets",setup(e){const t=(0,l.KR)({totalJobs:0,totalJobsPercentage:0,totalApplications:0,totalApplicationsPercentage:0,newJobs:0,newJobsPercentage:0,interview:0,interviewPercentage:0,hired:0,hiredPercentage:0,rejected:0,rejectedPercentage:0}),a=(0,l.KR)({chart:{type:"radialBar",width:105,sparkline:{enabled:!0}},dataLabels:{enabled:!1},plotOptions:{radialBar:{hollow:{margin:0,size:"70%"},track:{margin:1},dataLabels:{show:!0,name:{show:!1},value:{show:!0,fontSize:"16px",fontWeight:600,offsetY:8}}}},colors:["#0ab39c"]}),i=(0,l.KR)({colors:["#f7b84b"]}),n=(0,l.KR)({colors:["#0ab39c"]}),d=(0,l.KR)({colors:["#f06548"]}),r=async()=>{try{const e=await(0,c.H0)(),a=e.data;t.value={totalJobs:a.totalJobs||0,totalJobsPercentage:a.totalJobsPercentage||0,totalApplications:a.totalApplications||0,totalApplicationsPercentage:a.totalApplicationsPercentage||0,newJobs:a.newJobs||0,newJobsPercentage:a.newJobsPercentage||0,interview:a.interview||0,interviewPercentage:a.interviewPercentage||0,hired:a.hired||0,hiredPercentage:a.hiredPercentage||0,rejected:a.rejected||0,rejectedPercentage:a.rejectedPercentage||0}}catch(e){console.error("Error fetching widgets data:",e),t.value={totalJobs:0,totalJobsPercentage:0,totalApplications:0,totalApplicationsPercentage:0,newJobs:0,newJobsPercentage:0,interview:0,interviewPercentage:0,hired:0,hiredPercentage:0,rejected:0,rejectedPercentage:0}}};return(0,s.sV)(()=>{r()}),(e,r)=>{const c=(0,s.g2)("apexchart"),X=(0,s.g2)("BCardBody"),K=(0,s.g2)("BCard"),S=(0,s.g2)("BCol"),W=(0,s.g2)("BRow");return(0,s.uX)(),(0,s.Wv)(S,{xl:"12"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",u,[(0,s.bF)(W,null,{default:(0,s.k6)(()=>[(0,s.bF)(S,{xl:"4",md:"6"},{default:(0,s.k6)(()=>[(0,s.bF)(K,{"no-body":"",class:"card-animate overflow-hidden"},{default:(0,s.k6)(()=>[r[1]||(r[1]=(0,s.Lk)("div",{class:"position-absolute start-0 widget-pattern",style:{"z-index":"0"}},[(0,s.Lk)("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 120",width:"200",height:"120"},[(0,s.Lk)("path",{id:"Shape 8",class:"s0",d:"m189.5-25.8c0 0 20.1 46.2-26.7 71.4 0 0-60 15.4-62.3 65.3-2.2 49.8-50.6 59.3-57.8 61.5-7.2 2.3-60.8 0-60.8 0l-11.9-199.4z"})])],-1)),(0,s.bF)(X,{style:{"z-index":"1"}},{default:(0,s.k6)(()=>[(0,s.Lk)("div",v,[(0,s.Lk)("div",p,[r[0]||(r[0]=(0,s.Lk)("p",{class:"text-uppercase fw-medium text-muted text-truncate mb-3"}," Total Jobs ",-1)),(0,s.Lk)("h4",b,[(0,s.bF)((0,l.R1)(o.v),{startVal:0,endVal:t.value.totalJobs,duration:2e3},null,8,["endVal"])])]),(0,s.Lk)("div",h,[(0,s.bF)(c,{class:"apex-charts",dir:"ltr",width:"105px",height:"90px",series:[t.value.totalJobsPercentage||0],options:{...a.value}},null,8,["series","options"])])])]),_:1})]),_:1,__:[1]})]),_:1}),(0,s.bF)(S,{xl:"4",md:"6"},{default:(0,s.k6)(()=>[(0,s.bF)(K,{"no-body":"",class:"card-animate overflow-hidden"},{default:(0,s.k6)(()=>[r[3]||(r[3]=(0,s.Lk)("div",{class:"position-absolute start-0 widget-pattern",style:{"z-index":"0"}},[(0,s.Lk)("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 120",width:"200",height:"120"},[(0,s.Lk)("path",{id:"Shape 8",class:"s0",d:"m189.5-25.8c0 0 20.1 46.2-26.7 71.4 0 0-60 15.4-62.3 65.3-2.2 49.8-50.6 59.3-57.8 61.5-7.2 2.3-60.8 0-60.8 0l-11.9-199.4z"})])],-1)),(0,s.bF)(X,{style:{"z-index":"1"}},{default:(0,s.k6)(()=>[(0,s.Lk)("div",f,[(0,s.Lk)("div",k,[r[2]||(r[2]=(0,s.Lk)("p",{class:"text-uppercase fw-medium text-muted text-truncate mb-3"}," Total Applications ",-1)),(0,s.Lk)("h4",m,[(0,s.bF)((0,l.R1)(o.v),{startVal:0,endVal:t.value.totalApplications,duration:2e3},null,8,["endVal"])])]),(0,s.Lk)("div",g,[(0,s.bF)(c,{class:"apex-charts",dir:"ltr",width:"105px",height:"90px",series:[t.value.totalApplicationsPercentage||0],options:{...a.value}},null,8,["series","options"])])])]),_:1})]),_:1,__:[3]})]),_:1}),(0,s.bF)(S,{xl:"4",md:"6"},{default:(0,s.k6)(()=>[(0,s.bF)(K,{"no-body":"",class:"card-animate overflow-hidden"},{default:(0,s.k6)(()=>[r[5]||(r[5]=(0,s.Lk)("div",{class:"position-absolute start-0 widget-pattern",style:{"z-index":"0"}},[(0,s.Lk)("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 120",width:"200",height:"120"},[(0,s.Lk)("path",{id:"Shape 8",class:"s0",d:"m189.5-25.8c0 0 20.1 46.2-26.7 71.4 0 0-60 15.4-62.3 65.3-2.2 49.8-50.6 59.3-57.8 61.5-7.2 2.3-60.8 0-60.8 0l-11.9-199.4z"})])],-1)),(0,s.bF)(X,{style:{"z-index":"1"}},{default:(0,s.k6)(()=>[(0,s.Lk)("div",w,[(0,s.Lk)("div",x,[r[4]||(r[4]=(0,s.Lk)("p",{class:"text-uppercase fw-medium text-muted text-truncate mb-3"}," New Jobs This Month ",-1)),(0,s.Lk)("h4",L,[(0,s.bF)((0,l.R1)(o.v),{startVal:0,endVal:t.value.newJobs,duration:2e3},null,8,["endVal"])])]),(0,s.Lk)("div",_,[(0,s.bF)(c,{class:"apex-charts",dir:"ltr",width:"105px",height:"90px",series:[t.value.newJobsPercentage||0],options:{...a.value}},null,8,["series","options"])])])]),_:1})]),_:1,__:[5]})]),_:1}),(0,s.bF)(S,{xl:"4",md:"6"},{default:(0,s.k6)(()=>[(0,s.bF)(K,{"no-body":"",class:"card-animate overflow-hidden"},{default:(0,s.k6)(()=>[r[7]||(r[7]=(0,s.Lk)("div",{class:"position-absolute start-0 widget-pattern",style:{"z-index":"0"}},[(0,s.Lk)("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 120",width:"200",height:"120"},[(0,s.Lk)("path",{id:"Shape 8",class:"s0",d:"m189.5-25.8c0 0 20.1 46.2-26.7 71.4 0 0-60 15.4-62.3 65.3-2.2 49.8-50.6 59.3-57.8 61.5-7.2 2.3-60.8 0-60.8 0l-11.9-199.4z"})])],-1)),(0,s.bF)(X,{style:{"z-index":"1"}},{default:(0,s.k6)(()=>[(0,s.Lk)("div",y,[(0,s.Lk)("div",F,[r[6]||(r[6]=(0,s.Lk)("p",{class:"text-uppercase fw-medium text-muted text-truncate mb-3"}," Interview ",-1)),(0,s.Lk)("h4",P,[(0,s.bF)((0,l.R1)(o.v),{startVal:0,endVal:t.value.interview,duration:2e3},null,8,["endVal"])])]),(0,s.Lk)("div",B,[(0,s.bF)(c,{class:"apex-charts",dir:"ltr",width:"105px",height:"90px",series:[t.value.interviewPercentage||0],options:{...a.value,...i.value}},null,8,["series","options"])])])]),_:1})]),_:1,__:[7]})]),_:1}),(0,s.bF)(S,{xl:"4",md:"6"},{default:(0,s.k6)(()=>[(0,s.bF)(K,{"no-body":"",class:"card-animate overflow-hidden"},{default:(0,s.k6)(()=>[r[9]||(r[9]=(0,s.Lk)("div",{class:"position-absolute start-0 widget-pattern",style:{"z-index":"0"}},[(0,s.Lk)("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 120",width:"200",height:"120"},[(0,s.Lk)("path",{id:"Shape 8",class:"s0",d:"m189.5-25.8c0 0 20.1 46.2-26.7 71.4 0 0-60 15.4-62.3 65.3-2.2 49.8-50.6 59.3-57.8 61.5-7.2 2.3-60.8 0-60.8 0l-11.9-199.4z"})])],-1)),(0,s.bF)(X,{style:{"z-index":"1"}},{default:(0,s.k6)(()=>[(0,s.Lk)("div",A,[(0,s.Lk)("div",C,[r[8]||(r[8]=(0,s.Lk)("p",{class:"text-uppercase fw-medium text-muted text-truncate mb-3"}," Hired ",-1)),(0,s.Lk)("h4",z,[(0,s.bF)((0,l.R1)(o.v),{startVal:0,endVal:t.value.hired,duration:2e3},null,8,["endVal"])])]),(0,s.Lk)("div",J,[(0,s.bF)(c,{class:"apex-charts",dir:"ltr",width:"105px",height:"90px",series:[t.value.hiredPercentage||0],options:{...a.value,...n.value}},null,8,["series","options"])])])]),_:1})]),_:1,__:[9]})]),_:1}),(0,s.bF)(S,{xl:"4",md:"6"},{default:(0,s.k6)(()=>[(0,s.bF)(K,{"no-body":"",class:"card-animate overflow-hidden"},{default:(0,s.k6)(()=>[r[11]||(r[11]=(0,s.Lk)("div",{class:"position-absolute start-0 widget-pattern",style:{"z-index":"0"}},[(0,s.Lk)("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 120",width:"200",height:"120"},[(0,s.Lk)("path",{id:"Shape 8",class:"s0",d:"m189.5-25.8c0 0 20.1 46.2-26.7 71.4 0 0-60 15.4-62.3 65.3-2.2 49.8-50.6 59.3-57.8 61.5-7.2 2.3-60.8 0-60.8 0l-11.9-199.4z"})])],-1)),(0,s.bF)(X,{style:{"z-index":"1"}},{default:(0,s.k6)(()=>[(0,s.Lk)("div",R,[(0,s.Lk)("div",V,[r[10]||(r[10]=(0,s.Lk)("p",{class:"text-uppercase fw-medium text-muted text-truncate mb-3"}," Rejected ",-1)),(0,s.Lk)("h4",j,[(0,s.bF)((0,l.R1)(o.v),{startVal:0,endVal:t.value.rejected,duration:2e3},null,8,["endVal"])])]),(0,s.Lk)("div",E,[(0,s.bF)(c,{class:"apex-charts",dir:"ltr",width:"105px",height:"90px",series:[t.value.rejectedPercentage||0],options:{...a.value,...d.value}},null,8,["series","options"])])])]),_:1})]),_:1,__:[11]})]),_:1})]),_:1})])]),_:1})}}};const K=X;var S=K,W=a(827),T=a(5039),H=a(4646),I=a(6278),M=a(5220);const N={class:"flex-shrink-0"},O={key:0,class:"profile-timeline"},D={class:"accordion accordion-flush",id:"announcementAccordion"},Y=["id"],$={class:"d-flex"},Q={class:"flex-grow-1 ms-3"},q={class:"fs-14 mb-1 text-truncate"},G={class:"text-muted"},U=["innerHTML"],Z={key:1,class:"text-center text-muted py-5"},ee={class:"flex-shrink-0"},te={key:0,class:"activity-timeline activity-main"},ae={class:"flex-grow-1 ms-3"},se={class:"mb-1"},le={class:"text-muted mb-1"},ie={class:"text-muted"},ne={key:1,class:"text-center text-muted py-4"};var de={__name:"index",setup(e){const t=(0,M.rd)(),a=(0,I.Pj)(),o=(0,s.EW)(()=>u.value?.user_type??""),u=(0,s.EW)(()=>a.state.auth.user),v=(0,l.KR)([]),p=(0,l.KR)([]),b=()=>{t.push("/user-logs")},h=()=>{t.push("/announcements")},f=async()=>{try{const[e,t]=await Promise.all([(0,c.ni)({type:"user"}),(0,c.gO)({per_page:5,page:1})]);v.value=e?.data?.items||[],p.value=t.data.items||[]}catch(e){console.error("Error fetching data:",e),H.A.fire({icon:"error",title:"Failed to load form options. Please refresh the page."})}};return(0,s.sV)(()=>{f()}),(e,t)=>{const a=(0,s.g2)("BCardTitle"),c=(0,s.g2)("BButton"),u=(0,s.g2)("BCardHeader"),f=(0,s.g2)("BLink"),k=(0,s.g2)("BCollapse"),m=(0,s.g2)("BCardBody"),g=(0,s.g2)("BCard"),w=(0,s.g2)("BCol"),x=(0,s.g2)("BRow");return(0,s.uX)(),(0,s.Wv)(d.A,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,l.R1)(n.A),{title:"Job Dashboard",pageTitle:"Dashboards"}),["admin","secretariat","employer","manpower_agency"].includes(o.value)?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.bF)(S),(0,s.bF)(W.A)],64)):(0,s.Q3)("",!0),(0,s.bF)(x,null,{default:(0,s.k6)(()=>[(0,s.bF)(w,{xl:"8"},{default:(0,s.k6)(()=>[(0,s.bF)(g,{"no-body":"",class:"card-height-100"},{default:(0,s.k6)(()=>[(0,s.bF)(u,{class:"border-bottom-dashed d-flex align-items-center"},{default:(0,s.k6)(()=>[(0,s.bF)(a,{class:"mb-0 flex-grow-1"},{default:(0,s.k6)(()=>t[0]||(t[0]=[(0,s.eW)(" System Announcements ",-1)])),_:1,__:[0]}),(0,s.Lk)("div",N,[(0,s.bF)(c,{variant:"soft-primary",size:"sm",onClick:h},{default:(0,s.k6)(()=>t[1]||(t[1]=[(0,s.eW)(" View All Announcements ",-1)])),_:1,__:[1]})])]),_:1}),(0,s.bF)(m,{class:"p-0"},{default:(0,s.k6)(()=>[(0,s.bF)((0,l.R1)(T.A),{"data-simplebar":"",style:{"max-height":"364px"},class:"p-3"},{default:(0,s.k6)(()=>[p.value&&p.value.length>0?((0,s.uX)(),(0,s.CE)("div",O,[(0,s.Lk)("div",D,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(p.value,e=>((0,s.uX)(),(0,s.CE)("div",{class:"accordion-item border-0",key:e.id},[(0,s.Lk)("div",{class:"accordion-header",id:`heading-${e.id}`},[(0,s.bF)(f,{class:"accordion-button p-2 shadow-none","v-b-toggle":`collapse-${e.id}`},{default:(0,s.k6)(()=>[(0,s.Lk)("div",$,[t[2]||(t[2]=(0,s.Lk)("div",{class:"flex-shrink-0"},[(0,s.Lk)("div",{class:"avatar-xs rounded-circle d-flex align-items-center justify-content-center bg-primary-subtle text-primary"},[(0,s.Lk)("i",{class:"ri-notification-3-line"})])],-1)),(0,s.Lk)("div",Q,[(0,s.Lk)("h6",q,(0,i.v_)(e.title),1),(0,s.Lk)("small",G,(0,i.v_)((0,l.R1)(r.gY)(e.created_at)),1)])])]),_:2},1032,["v-b-toggle"])],8,Y),(0,s.bF)(k,{id:"collapseOne",visible:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",{class:"accordion-body ms-2 ps-5",innerHTML:e.content},null,8,U)]),_:2},1024)]))),128))])])):((0,s.uX)(),(0,s.CE)("div",Z,t[3]||(t[3]=[(0,s.Lk)("i",{class:"bx bx-bell fs-1 mb-2 d-block opacity-50"},null,-1),(0,s.Lk)("p",{class:"mb-0 fs-14"}," No announcements available at the moment. ",-1)])))]),_:1})]),_:1})]),_:1})]),_:1}),(0,s.bF)(w,{xl:"4"},{default:(0,s.k6)(()=>[(0,s.bF)(g,{"no-body":"",class:"card-height-100"},{default:(0,s.k6)(()=>[(0,s.bF)(u,{class:"border-bottom-dashed d-flex align-items-center"},{default:(0,s.k6)(()=>[(0,s.bF)(a,{class:"mb-0 flex-grow-1"},{default:(0,s.k6)(()=>t[4]||(t[4]=[(0,s.eW)("Recent Activity",-1)])),_:1,__:[4]}),(0,s.Lk)("div",ee,[(0,s.bF)(c,{variant:"soft-primary",size:"sm",onClick:b},{default:(0,s.k6)(()=>t[5]||(t[5]=[(0,s.eW)(" View All Activity ",-1)])),_:1,__:[5]})])]),_:1}),(0,s.bF)(m,{class:"p-0"},{default:(0,s.k6)(()=>[(0,s.bF)((0,l.R1)(T.A),{"data-simplebar":"",style:{"max-height":"364px"},class:"p-3"},{default:(0,s.k6)(()=>[v.value.length?((0,s.uX)(),(0,s.CE)("div",te,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(v.value,e=>((0,s.uX)(),(0,s.CE)("div",{class:"activity-item d-flex mb-3",key:e.id},[t[6]||(t[6]=(0,s.Lk)("div",{class:"flex-shrink-0 avatar-xs activity-avatar"},[(0,s.Lk)("div",{class:"avatar-title bg-success-subtle text-success rounded-circle"},[(0,s.Lk)("i",{class:"ri-time-line"})])],-1)),(0,s.Lk)("div",ae,[(0,s.Lk)("h6",se,(0,i.v_)(e.user?.name||"System"),1),(0,s.Lk)("p",le,(0,i.v_)(e.action),1),(0,s.Lk)("small",ie,(0,i.v_)((0,l.R1)(r.r6)(e.created_at)),1)])]))),128))])):((0,s.uX)(),(0,s.CE)("div",ne,t[7]||(t[7]=[(0,s.Lk)("i",{class:"ri-file-list-3-line fs-24 d-block mb-2"},null,-1),(0,s.Lk)("span",null,"No recent activity found",-1)])))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};const re=de;var oe=re},4646:function(e,t,a){var s=a(8465),l=a.n(s);const i=l().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!1,showClass:{popup:"swal2-noanimation",backdrop:"swal2-noanimation"},hideClass:{popup:""}});t.A=i}}]);
//# sourceMappingURL=8380.81c2079f.js.map