{"version":3,"file":"js/7041.0ec4c8ed.js","mappings":"ykBAGA,MAAMA,EAAQC,EAKRC,EAAOC,EAEPC,GAAeC,EAAAA,EAAAA,IAAIL,EAAMM,SAEzBC,GAAaC,EAAAA,EAAAA,IAAS,IAAMC,KAAKC,KAAKV,EAAMW,MAAQP,EAAaQ,QACjEC,GAAOL,EAAAA,EAAAA,IAAS,IACJ,IAAhBR,EAAMW,MAAc,GAAKX,EAAMc,YAAc,GAAKV,EAAaQ,MAAQ,GAEnEG,GAAKP,EAAAA,EAAAA,IAAS,IAClBC,KAAKO,IAAIhB,EAAMc,YAAcV,EAAaQ,MAAOZ,EAAMW,QAGnDM,GAAeT,EAAAA,EAAAA,IAAS,KAC5B,MAAMU,EAAQ,GACd,GAAIX,EAAWK,OAAS,EACtB,IAAK,IAAIO,EAAI,EAAGA,GAAKZ,EAAWK,MAAOO,IAAKD,EAAME,KAAKD,OAClD,CACLD,EAAME,KAAK,GACX,IAAIC,EAAQZ,KAAKa,IAAI,EAAGtB,EAAMc,YAAc,GACxCS,EAAMd,KAAKO,IAAIT,EAAWK,MAAQ,EAAGZ,EAAMc,YAAc,GACzDd,EAAMc,aAAe,EAAGS,EAAM,EACzBvB,EAAMc,aAAeP,EAAWK,MAAQ,IAC/CS,EAAQd,EAAWK,MAAQ,GAEzBS,EAAQ,GAAGH,EAAME,KAAK,KAC1B,IAAK,IAAID,EAAIE,EAAOF,GAAKI,EAAKJ,IAAKD,EAAME,KAAKD,GAC1CI,EAAMhB,EAAWK,MAAQ,GAAGM,EAAME,KAAK,KAC3CF,EAAME,KAAKb,EAAWK,MACxB,CACA,OAAOM,IAGHM,EAAcC,IACdA,GAAQ,GAAKA,GAAQlB,EAAWK,OAAOV,EAAK,aAAcuB,IAE1DC,EAAgBA,IAAMxB,EAAK,gBAAiBE,EAAaQ,O,0HAI7De,EAAAA,EAAAA,IAiEOC,EAAA,CAjEDC,MAAM,oDAAkD,C,iBAE5D,IAgBO,EAhBPC,EAAAA,EAAAA,IAgBOC,EAAA,CAhBDC,GAAG,IAAIH,MAAM,mC,kBAEjB,IAKI,EALJI,EAAAA,EAAAA,IAKI,IALJC,EAKI,C,qBALuB,aACjB,KAAAD,EAAAA,EAAAA,IAA2C,OAA3CE,GAA2CC,EAAAA,EAAAA,IAAdvB,EAAAD,OAAI,G,qBAAU,QACnD,KAAAqB,EAAAA,EAAAA,IAAyC,OAAzCI,GAAyCD,EAAAA,EAAAA,IAAZrB,EAAAH,OAAE,G,qBAAU,QACzC,KAAAqB,EAAAA,EAAAA,IAAsE,OAAtEK,GAAsEF,EAAAA,EAAAA,IAAfnC,EAAAU,OAAK,G,qBAAU,aAExE,OAGAmB,EAAAA,EAAAA,IAKES,EAAA,C,WAJSnC,EAAAQ,M,qCAAAR,EAAYQ,MAAA4B,GACpBC,QAAS,CAAC,GAAI,GAAI,GAAI,GAAI,KAC3BZ,MAAM,SACLa,SAAQhB,G,gCAKbI,EAAAA,EAAAA,IA2COC,EAAA,CA3CDC,GAAG,IAAIH,MAAM,8B,kBACjB,IAyCK,EAzCLI,EAAAA,EAAAA,IAyCK,KAzCLU,EAyCK,EAxCHV,EAAAA,EAAAA,IAQK,MARAJ,OAAKe,EAAAA,EAAAA,IAAA,cAAAC,SAA4B7C,EAAMc,aAAe,M,EACzDgB,EAAAA,EAAAA,IAMQgB,EAAA,CALNC,KAAK,IACLlB,MAAM,YACLmB,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,IAAAV,GAAUhB,EAAWxB,EAAMc,YAAc,GAAH,e,kBAC7C,IAEDmC,EAAA,KAAAA,EAAA,K,QAFC,cAED,M,gCAGFE,EAAAA,EAAAA,IAiBKC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAhBcpC,EAAAL,MAAY,CAArB0C,EAAGnC,M,WADbgC,EAAAA,EAAAA,IAiBK,MAfFI,IAAKpC,EACLU,OAAKe,EAAAA,EAAAA,IAAA,C,oBAAqD5C,EAAMc,cAAgBwC,EAACT,SAAa,MAADS,M,CAMhF,MAANA,I,WADR3B,EAAAA,EAAAA,IAOQmB,EAAA,C,MALNC,KAAK,IACLlB,MAAM,YACLmB,SAAKE,EAAAA,EAAAA,IAAAV,GAAUhB,EAAW8B,GAAC,c,kBAE5B,IAAO,E,iBAAJA,GAAC,K,qCAENH,EAAAA,EAAAA,IAAuC,OAAvCK,EAA+B,O,YAGjCvB,EAAAA,EAAAA,IAUK,MATFJ,OAAKe,EAAAA,EAAAA,IAAA,cAAAC,SAA4B7C,EAAMc,aAAeP,EAAAK,U,EAEvDkB,EAAAA,EAAAA,IAMQgB,EAAA,CALNC,KAAK,IACLlB,MAAM,YACLmB,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,IAAAV,GAAUhB,EAAWxB,EAAMc,YAAc,GAAH,e,kBAC7C,IAEDmC,EAAA,KAAAA,EAAA,K,QAFC,UAED,M,sCCzGV,MAAMQ,EAAc,EAEpB,O,ygBCsFA,MAAMC,GAAYrD,EAAAA,EAAAA,KAAI,GAChBC,GAAUD,EAAAA,EAAAA,IAAI,IACdoB,GAAOpB,EAAAA,EAAAA,IAAI,GACXsD,GAAatD,EAAAA,EAAAA,IAAI,GAEjBuD,GAAYvD,EAAAA,EAAAA,IAAI,IAChBwD,GAAcxD,EAAAA,EAAAA,IAAI,IAClByD,GAAezD,EAAAA,EAAAA,IAAI,OACnB0D,EAAiB,CAAEC,cAAaA,GAEhCtC,EAAiBuC,IACrB3D,EAAQM,MAAQqD,EAChBC,EAAe,IAGXA,EAAiBC,MAAOC,EAAa,KACzC3C,EAAKb,MAAQwD,EACbV,EAAU9C,OAAQ,EAElB,IACE,MAAMyD,QAAiBC,EAAAA,EAAAA,IAAmB,CACxCC,OAAQV,EAAYjD,MACpB4D,OAAQV,EAAalD,MACrB6D,SAAUnE,EAAQM,MAClBa,KAAM2C,IAGFM,EAAOL,EAASK,KACtBd,EAAUhD,MAAQ8D,EAAKC,OAAS,GAChChB,EAAW/C,MAAQ8D,EAAK/D,OAAS,CACnC,CAAE,MAAOiE,GACPC,EAAAA,EAAMC,KAAK,CACTC,KAAM,QACNC,MACEJ,EAAMP,UAAUK,MAAMO,SAAW,uCAEvC,CAAE,QACAvB,EAAU9C,OAAQ,CACpB,G,OAGFsE,EAAAA,EAAAA,IAAU,IAAMhB,K,wHAnIdvC,EAAAA,EAAAA,IA2ESwD,EAAAA,EAAA,M,iBAzEP,IAMc,EANdrD,EAAAA,EAAAA,IAMcsD,EAAA,CANDvD,MAAM,YAAU,C,iBAC3B,IAIO,EAJPC,EAAAA,EAAAA,IAIOF,EAAA,CAJDC,MAAM,2BAAyB,C,iBACnC,IAEO,EAFPC,EAAAA,EAAAA,IAEOC,EAAA,CAFDsD,KAAK,MAAI,C,iBACb,IAA8CpC,EAAA,KAAAA,EAAA,KAA9ChB,EAAAA,EAAAA,IAA8C,MAA1CJ,MAAM,mBAAkB,iBAAa,M,8BAM/CC,EAAAA,EAAAA,IA+DYwD,EAAA,CA/DDzD,MAAM,QAAM,C,iBADnB,IAMR,CAHiB6B,EAAA9C,Q,WAAXuC,EAAAA,EAAAA,IAQM,MARNjB,EAQM,EAPJJ,EAAAA,EAAAA,IAKEyD,EAAAA,EAAA,CAJA1D,MAAM,YACLY,QAASsB,EACTyB,OAAQ,GACRC,MAAO,K,aAEVxD,EAAAA,EAAAA,IAAgC,MAA5BJ,MAAM,QAAO,cAAU,S,WAI7BsB,EAAAA,EAAAA,IAuCWC,EAAAA,GAAA,CAAAG,IAAA,M,aAtCTJ,EAAAA,EAAAA,IA+BMC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA/BcO,EAAAhD,MAAR8E,K,WAAZvC,EAAAA,EAAAA,IA+BM,OA/B0BI,IAAKmC,EAAKC,GAAI9D,MAAM,a,EAClDI,EAAAA,EAAAA,IA6BM,MA7BNE,EA6BM,EA5BJF,EAAAA,EAAAA,IA2BM,MA3BNI,EA2BM,C,aAzBJJ,EAAAA,EAAAA,IAMM,OANDJ,MAAM,sBAAoB,EAC7BI,EAAAA,EAAAA,IAIE,OAHA2D,IAAAC,EACAC,IAAI,GACJjE,MAAM,+C,KAKVI,EAAAA,EAAAA,IAeM,MAfNK,EAeM,EAdJL,EAAAA,EAAAA,IAAmD,KAAnDU,GAAmDP,EAAAA,EAAAA,IAAlBsD,EAAKV,OAAK,IAE3C/C,EAAAA,EAAAA,IASM,MATNuB,EASM,EARJvB,EAAAA,EAAAA,IAGO,OAHP8D,EAGO,C,aAFL9D,EAAAA,EAAAA,IAA2C,KAAxCJ,MAAM,+BAA6B,W,QAAK,KAC3CO,EAAAA,EAAAA,KAAG4D,EAAAA,EAAAA,IAAAC,EAAAA,GAAAD,CAAgBN,EAAKQ,aAAU,K,qBAC7B,OAEP,I,aAAAjE,EAAAA,EAAAA,IAEO,QAFDJ,MAAM,cAAY,EACtBI,EAAAA,EAAAA,IAAmC,KAAhCJ,MAAM,yB,QAA0B,a,OAIvCI,EAAAA,EAAAA,IAA6B,KAA1BkE,UAAQT,EAAKU,S,0BAOZxC,EAAAhD,MAAUyF,Q,4BAAtBlD,EAAAA,EAAAA,IAGM,MAHNmD,EAGMrD,EAAA,KAAAA,EAAA,KAFJhB,EAAAA,EAAAA,IAA+B,UAA3B,0BAAsB,IAC1BA,EAAAA,EAAAA,IAAyD,KAAtDJ,MAAM,QAAO,yCAAqC,Q,MAKzDC,EAAAA,EAAAA,IAOEyE,EAAAA,EAAA,CANA1E,MAAM,OACLf,YAAaW,EAAAb,MACbN,QAASA,EAAAM,MACTD,MAAOgD,EAAA/C,MACP4F,aAAYtC,EACZuC,gBAAe/E,G,6DCtExB,MAAM+B,EAAc,EAEpB,O","sources":["webpack://velzon/./src/components/pagination.vue","webpack://velzon/./src/components/pagination.vue?e6dc","webpack://velzon/./src/views/main/announces.vue","webpack://velzon/./src/views/main/announces.vue?be05"],"sourcesContent":["<script setup>\r\nimport { ref, computed, defineProps, defineEmits } from \"vue\";\r\n\r\nconst props = defineProps({\r\n  currentPage: { type: Number, default: 1 },\r\n  perPage: { type: Number, default: 10 },\r\n  total: { type: Number, default: 0 },\r\n});\r\nconst emit = defineEmits([\"pageChange\", \"perPageChange\"]);\r\n\r\nconst localPerPage = ref(props.perPage);\r\n\r\nconst totalPages = computed(() => Math.ceil(props.total / localPerPage.value));\r\nconst from = computed(() =>\r\n  props.total === 0 ? 0 : (props.currentPage - 1) * localPerPage.value + 1\r\n);\r\nconst to = computed(() =>\r\n  Math.min(props.currentPage * localPerPage.value, props.total)\r\n);\r\n\r\nconst visiblePages = computed(() => {\r\n  const pages = [];\r\n  if (totalPages.value <= 7) {\r\n    for (let i = 1; i <= totalPages.value; i++) pages.push(i);\r\n  } else {\r\n    pages.push(1);\r\n    let start = Math.max(2, props.currentPage - 2);\r\n    let end = Math.min(totalPages.value - 1, props.currentPage + 2);\r\n    if (props.currentPage <= 4) end = 5;\r\n    else if (props.currentPage >= totalPages.value - 3)\r\n      start = totalPages.value - 4;\r\n\r\n    if (start > 2) pages.push(\"…\");\r\n    for (let i = start; i <= end; i++) pages.push(i);\r\n    if (end < totalPages.value - 1) pages.push(\"…\");\r\n    pages.push(totalPages.value);\r\n  }\r\n  return pages;\r\n});\r\n\r\nconst changePage = (page) => {\r\n  if (page >= 1 && page <= totalPages.value) emit(\"pageChange\", page);\r\n};\r\nconst updatePerPage = () => emit(\"perPageChange\", localPerPage.value);\r\n</script>\r\n\r\n<template>\r\n  <BRow class=\"g-0 text-center text-sm-start align-items-center\">\r\n    <!-- Showing info + per-page select -->\r\n    <BCol sm=\"4\" class=\"d-flex align-items-center gap-3\">\r\n      <!-- Showing text -->\r\n      <p class=\"mb-0 text-muted\">\r\n        Showing <span class=\"fw-semibold\">{{ from }}</span> to\r\n        <span class=\"fw-semibold\">{{ to }}</span> of\r\n        <span class=\"fw-semibold text-decoration-underline\">{{ total }}</span>\r\n        entries\r\n      </p>\r\n\r\n      <!-- Per-page selector -->\r\n      <BFormSelect\r\n        v-model=\"localPerPage\"\r\n        :options=\"[10, 20, 30, 50, 100]\"\r\n        class=\"w-auto\"\r\n        @change=\"updatePerPage\"\r\n      />\r\n    </BCol>\r\n\r\n    <!-- Pagination buttons -->\r\n    <BCol sm=\"8\" class=\"d-flex justify-content-end\">\r\n      <ul class=\"pagination pagination-separated mb-0\">\r\n        <li :class=\"['page-item', { disabled: props.currentPage <= 1 }]\">\r\n          <BLink\r\n            href=\"#\"\r\n            class=\"page-link\"\r\n            @click.prevent=\"changePage(props.currentPage - 1)\"\r\n          >\r\n            Previous\r\n          </BLink>\r\n        </li>\r\n\r\n        <li\r\n          v-for=\"(p, i) in visiblePages\"\r\n          :key=\"i\"\r\n          :class=\"[\r\n            'page-item',\r\n            { active: props.currentPage === p, disabled: p === '…' },\r\n          ]\"\r\n        >\r\n          <BLink\r\n            v-if=\"p !== '…'\"\r\n            href=\"#\"\r\n            class=\"page-link\"\r\n            @click.prevent=\"changePage(p)\"\r\n          >\r\n            {{ p }}\r\n          </BLink>\r\n          <span v-else class=\"page-link\">…</span>\r\n        </li>\r\n\r\n        <li\r\n          :class=\"['page-item', { disabled: props.currentPage >= totalPages }]\"\r\n        >\r\n          <BLink\r\n            href=\"#\"\r\n            class=\"page-link\"\r\n            @click.prevent=\"changePage(props.currentPage + 1)\"\r\n          >\r\n            Next\r\n          </BLink>\r\n        </li>\r\n      </ul>\r\n    </BCol>\r\n  </BRow>\r\n</template>\r\n","import script from \"./pagination.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./pagination.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <Layout>\r\n    <!-- Header -->\r\n    <BCardHeader class=\"border-0\">\r\n      <BRow class=\"align-items-center gy-3\">\r\n        <BCol cols=\"sm\">\r\n          <h5 class=\"card-title mb-3\">Announcements</h5>\r\n        </BCol>\r\n      </BRow>\r\n    </BCardHeader>\r\n\r\n    <!-- Body -->\r\n    <BCardBody class=\"pt-0\">\r\n      <!-- Loading -->\r\n      <div v-if=\"isLoading\" class=\"text-center py-5\">\r\n        <lottie\r\n          class=\"avatar-xl\"\r\n          :options=\"defaultOptions\"\r\n          :height=\"75\"\r\n          :width=\"75\"\r\n        />\r\n        <h5 class=\"mt-2\">Loading...</h5>\r\n      </div>\r\n\r\n      <!-- Announcements Loop -->\r\n      <template v-else>\r\n        <div v-for=\"item in tableData\" :key=\"item.id\" class=\"card mb-3\">\r\n          <div class=\"card-body\">\r\n            <div class=\"row g-4\">\r\n              <!-- Image -->\r\n              <div class=\"col-xxl-3 col-lg-5\">\r\n                <img\r\n                  src=\"@/assets/images/blog/img-1.jpg\"\r\n                  alt=\"\"\r\n                  class=\"img-fluid rounded w-100 object-fit-cover\"\r\n                />\r\n              </div>\r\n\r\n              <!-- Content -->\r\n              <div class=\"col-xxl-9 col-lg-7\">\r\n                <h5 class=\"fs-15 fw-semibold\">{{ item.title }}</h5>\r\n\r\n                <div class=\"d-flex align-items-center gap-2 mb-3 flex-wrap\">\r\n                  <span class=\"text-muted\">\r\n                    <i class=\"ri-calendar-event-line me-1\"></i>\r\n                    {{ formatShortDate(item.created_at) }}\r\n                  </span>\r\n                  |\r\n                  <span class=\"text-muted\">\r\n                    <i class=\"ri-user-3-line me-1\"></i> Admin\r\n                  </span>\r\n                </div>\r\n\r\n                <p v-html=\"item.content\"></p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Empty state -->\r\n        <div v-if=\"!tableData.length\" class=\"text-center text-muted py-5\">\r\n          <h5>No Announcements Found</h5>\r\n          <p class=\"mb-0\">There are currently no announcements.</p>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- Pagination -->\r\n      <PaginationComponent\r\n        class=\"my-3\"\r\n        :currentPage=\"page\"\r\n        :perPage=\"perPage\"\r\n        :total=\"totalItems\"\r\n        @pageChange=\"fetchDataTable\"\r\n        @perPageChange=\"updatePerPage\"\r\n      />\r\n    </BCardBody>\r\n  </Layout>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport \"@vueform/multiselect/themes/default.css\";\r\nimport Layout from \"@/layouts/main.vue\";\r\nimport Lottie from \"@/components/widgets/lottie.vue\";\r\nimport animationData from \"@/components/widgets/msoeawqm.json\";\r\n\r\nimport PaginationComponent from \"@/components/pagination.vue\";\r\nimport { formatShortDate } from \"@/helpers/useFormats\";\r\nimport Toast from \"@/helpers/Toast\";\r\nimport { getSystemAnnounces } from \"@/api-request\";\r\n\r\nconst isLoading = ref(false);\r\nconst perPage = ref(10);\r\nconst page = ref(1);\r\nconst totalItems = ref(0);\r\n\r\nconst tableData = ref([]);\r\nconst searchQuery = ref(\"\");\r\nconst searchStatus = ref(\"all\");\r\nconst defaultOptions = { animationData };\r\n\r\nconst updatePerPage = (size) => {\r\n  perPage.value = size;\r\n  fetchDataTable(1);\r\n};\r\n\r\nconst fetchDataTable = async (pageNumber = 1) => {\r\n  page.value = pageNumber;\r\n  isLoading.value = true;\r\n\r\n  try {\r\n    const response = await getSystemAnnounces({\r\n      search: searchQuery.value,\r\n      status: searchStatus.value,\r\n      per_page: perPage.value,\r\n      page: pageNumber,\r\n    });\r\n\r\n    const data = response.data;\r\n    tableData.value = data.items || [];\r\n    totalItems.value = data.total || 0;\r\n  } catch (error) {\r\n    Toast.fire({\r\n      icon: \"error\",\r\n      title:\r\n        error.response?.data?.message || \"An error occurred while processing.\",\r\n    });\r\n  } finally {\r\n    isLoading.value = false;\r\n  }\r\n};\r\n\r\nonMounted(() => fetchDataTable());\r\n</script>\r\n","import script from \"./announces.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./announces.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["props","__props","emit","__emit","localPerPage","ref","perPage","totalPages","computed","Math","ceil","total","value","from","currentPage","to","min","visiblePages","pages","i","push","start","max","end","changePage","page","updatePerPage","_createBlock","_component_BRow","class","_createVNode","_component_BCol","sm","_createElementVNode","_hoisted_1","_hoisted_2","_toDisplayString","_hoisted_3","_hoisted_4","_component_BFormSelect","$event","options","onChange","_hoisted_5","_normalizeClass","disabled","_component_BLink","href","onClick","_cache","_withModifiers","_createElementBlock","_Fragment","_renderList","p","key","_hoisted_6","__exports__","isLoading","totalItems","tableData","searchQuery","searchStatus","defaultOptions","animationData","size","fetchDataTable","async","pageNumber","response","getSystemAnnounces","search","status","per_page","data","items","error","Toast","fire","icon","title","message","onMounted","Layout","_component_BCardHeader","cols","_component_BCardBody","Lottie","height","width","item","id","src","_imports_0","alt","_hoisted_7","_unref","formatShortDate","created_at","innerHTML","content","length","_hoisted_9","PaginationComponent","onPageChange","onPerPageChange"],"sourceRoot":""}