"use strict";(self["webpackChunkvelzon"]=self["webpackChunkvelzon"]||[]).push([[6074],{179:function(e,l,a){a.d(l,{A:function(){return g}});a(4114);var t=a(641),s=a(33),n=a(3751),u=a(953);const o={class:"mb-0 text-muted"},r={class:"fw-semibold"},c={class:"fw-semibold"},i={class:"fw-semibold text-decoration-underline"},d={class:"pagination pagination-separated mb-0"},k={key:1,class:"page-link"};var b={__name:"pagination",props:{currentPage:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0}},emits:["pageChange","perPageChange"],setup(e,{emit:l}){const a=e,b=l,v=(0,u.KR)(a.perPage),g=(0,t.EW)(()=>Math.ceil(a.total/v.value)),p=(0,t.EW)(()=>0===a.total?0:(a.currentPage-1)*v.value+1),m=(0,t.EW)(()=>Math.min(a.currentPage*v.value,a.total)),f=(0,t.EW)(()=>{const e=[];if(g.value<=7)for(let l=1;l<=g.value;l++)e.push(l);else{e.push(1);let l=Math.max(2,a.currentPage-2),t=Math.min(g.value-1,a.currentPage+2);a.currentPage<=4?t=5:a.currentPage>=g.value-3&&(l=g.value-4),l>2&&e.push("…");for(let a=l;a<=t;a++)e.push(a);t<g.value-1&&e.push("…"),e.push(g.value)}return e}),_=e=>{e>=1&&e<=g.value&&b("pageChange",e)},h=()=>b("perPageChange",v.value);return(l,u)=>{const b=(0,t.g2)("BFormSelect"),L=(0,t.g2)("BCol"),y=(0,t.g2)("BLink"),C=(0,t.g2)("BRow");return(0,t.uX)(),(0,t.Wv)(C,{class:"g-0 text-center text-sm-start align-items-center"},{default:(0,t.k6)(()=>[(0,t.bF)(L,{sm:"4",class:"d-flex align-items-center gap-3"},{default:(0,t.k6)(()=>[(0,t.Lk)("p",o,[u[3]||(u[3]=(0,t.eW)(" Showing ",-1)),(0,t.Lk)("span",r,(0,s.v_)(p.value),1),u[4]||(u[4]=(0,t.eW)(" to ",-1)),(0,t.Lk)("span",c,(0,s.v_)(m.value),1),u[5]||(u[5]=(0,t.eW)(" of ",-1)),(0,t.Lk)("span",i,(0,s.v_)(e.total),1),u[6]||(u[6]=(0,t.eW)(" entries ",-1))]),(0,t.bF)(b,{modelValue:v.value,"onUpdate:modelValue":u[0]||(u[0]=e=>v.value=e),options:[10,20,30,50,100],class:"w-auto",onChange:h},null,8,["modelValue"])]),_:1}),(0,t.bF)(L,{sm:"8",class:"d-flex justify-content-end"},{default:(0,t.k6)(()=>[(0,t.Lk)("ul",d,[(0,t.Lk)("li",{class:(0,s.C4)(["page-item",{disabled:a.currentPage<=1}])},[(0,t.bF)(y,{href:"#",class:"page-link",onClick:u[1]||(u[1]=(0,n.D$)(e=>_(a.currentPage-1),["prevent"]))},{default:(0,t.k6)(()=>u[7]||(u[7]=[(0,t.eW)(" Previous ",-1)])),_:1,__:[7]})],2),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(f.value,(e,l)=>((0,t.uX)(),(0,t.CE)("li",{key:l,class:(0,s.C4)(["page-item",{active:a.currentPage===e,disabled:"…"===e}])},["…"!==e?((0,t.uX)(),(0,t.Wv)(y,{key:0,href:"#",class:"page-link",onClick:(0,n.D$)(l=>_(e),["prevent"])},{default:(0,t.k6)(()=>[(0,t.eW)((0,s.v_)(e),1)]),_:2},1032,["onClick"])):((0,t.uX)(),(0,t.CE)("span",k,"…"))],2))),128)),(0,t.Lk)("li",{class:(0,s.C4)(["page-item",{disabled:a.currentPage>=g.value}])},[(0,t.bF)(y,{href:"#",class:"page-link",onClick:u[2]||(u[2]=(0,n.D$)(e=>_(a.currentPage+1),["prevent"]))},{default:(0,t.k6)(()=>u[8]||(u[8]=[(0,t.eW)(" Next ",-1)])),_:1,__:[8]})],2)])]),_:1})]),_:1})}}};const v=b;var g=v},637:function(e,l,a){a.r(l),a.d(l,{default:function(){return E}});var t=a(641),s=a(3751),n=a(953),u=a(33),o=a(1743),r=a(8674),c=a(2266),i=a(4306),d=a(8280),k=a(179),b=a(7016),v=a(4646),g=a(5885);const p={class:"d-flex gap-1 flex-wrap"},m={class:"search-box"},f={class:"table-responsive table-card mb-1"},_={class:"table table-nowrap align-middle"},h={key:0},L={colspan:"7",class:"text-center"},y={class:"text-center"},C={key:0},F={class:"modal-body text-center"},x={class:"mt-4"},w={class:"text-muted mb-4"},W={class:"hstack gap-2 justify-content-center"},P={key:0,class:"d-flex align-items-center"},R={key:1};var B={__name:"job-lists",setup(e){const l=(0,n.KR)(!1),a=(0,n.KR)(!1),B=(0,n.KR)(10),A=(0,n.KR)(1),E=(0,n.KR)(0),K=(0,n.KR)("all"),X=(0,n.KR)(""),V=(0,n.KR)([]),D={animationData:i},j={animationData:d},I=(0,n.KR)(!1),N=(0,n.KR)(null),M=()=>{X.value="",K.value="all",S(1)},$=e=>{B.value=e,S(1)},J=e=>{N.value=e,I.value=!0},S=async(e=1)=>{A.value=e,a.value=!0;try{const l=await(0,g.XI)({search:X.value,status:"all"!==K.value?K.value:null,per_page:B.value,page:e,type:"employer"}),a=l.data;V.value=a.items||[],E.value=a.total||0}catch(l){console.error(l)}finally{a.value=!1}},U=async()=>{l.value=!0;try{await(0,g.w2)(N.value.id),v.A.fire({icon:"success",title:"Job deleted successfully"}),I.value=!1,S(A.value)}catch(e){console.error(e),v.A.fire({icon:"error",title:e.response?.data?.message||"Failed to delete job"})}finally{l.value=!1}};return(0,t.sV)(()=>S()),(e,i)=>{const d=(0,t.g2)("BCol"),v=(0,t.g2)("router-link"),g=(0,t.g2)("BRow"),z=(0,t.g2)("BCardHeader"),T=(0,t.g2)("BButton"),q=(0,t.g2)("BForm"),H=(0,t.g2)("BCardBody"),Q=(0,t.g2)("BDropdownItem"),G=(0,t.g2)("BDropdown"),O=(0,t.g2)("BCard"),Y=(0,t.g2)("BModal");return(0,t.uX)(),(0,t.Wv)(r.A,null,{default:(0,t.k6)(()=>[(0,t.bF)(g,null,{default:(0,t.k6)(()=>[(0,t.bF)(d,{lg:"12"},{default:(0,t.k6)(()=>[(0,t.bF)(O,{"no-body":"",id:"vacancyList"},{default:(0,t.k6)(()=>[(0,t.bF)(z,{class:"border-0"},{default:(0,t.k6)(()=>[(0,t.bF)(g,{class:"align-items-center gy-3"},{default:(0,t.k6)(()=>[(0,t.bF)(d,{cols:"sm"},{default:(0,t.k6)(()=>i[6]||(i[6]=[(0,t.Lk)("h5",{class:"card-title mb-0"},"Job Vacancies List",-1)])),_:1,__:[6]}),(0,t.bF)(d,{sm:"auto"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",p,[(0,t.bF)(v,{variant:"success",class:"btn btn-primary",to:"/manage-jobs/job-create"},{default:(0,t.k6)(()=>i[7]||(i[7]=[(0,t.Lk)("i",{class:"ri-add-line align-bottom me-1"},null,-1),(0,t.eW)(" Add Job ",-1)])),_:1,__:[7]})])]),_:1})]),_:1})]),_:1}),(0,t.bF)(H,{class:"border border-dashed border-end-0 border-start-0 mb-2"},{default:(0,t.k6)(()=>[(0,t.bF)(q,null,{default:(0,t.k6)(()=>[(0,t.bF)(g,{class:"g-3"},{default:(0,t.k6)(()=>[(0,t.bF)(d,{xxl:"3",sm:"6"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",m,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control search","onUpdate:modelValue":i[0]||(i[0]=e=>X.value=e),placeholder:"Search..."},null,512),[[s.Jo,X.value]]),i[8]||(i[8]=(0,t.Lk)("i",{class:"ri-search-line search-icon"},null,-1))])]),_:1}),(0,t.bF)(d,{xxl:"2",sm:"4"},{default:(0,t.k6)(()=>[(0,t.bF)((0,n.R1)(o.A),{class:"form-control",modelValue:K.value,"onUpdate:modelValue":i[1]||(i[1]=e=>K.value=e),"close-on-select":!0,searchable:!0,options:[{value:"all",label:"All"},{value:1,label:"Active"},{value:0,label:"Inactive"}]},null,8,["modelValue"])]),_:1}),(0,t.bF)(d,{xxl:"2",sm:"4",class:"d-flex gap-2"},{default:(0,t.k6)(()=>[(0,t.bF)(T,{type:"button",variant:"primary",class:"w-auto",onClick:i[2]||(i[2]=e=>S(1))},{default:(0,t.k6)(()=>i[9]||(i[9]=[(0,t.Lk)("i",{class:"ri-equalizer-fill me-1 align-bottom"},null,-1),(0,t.eW)(" Filters ",-1)])),_:1,__:[9]}),(0,t.bF)(T,{type:"button",variant:"danger",class:"w-auto",onClick:M},{default:(0,t.k6)(()=>i[10]||(i[10]=[(0,t.Lk)("i",{class:"ri-close-circle-line align-bottom"},null,-1)])),_:1,__:[10]})]),_:1})]),_:1})]),_:1})]),_:1}),(0,t.bF)(H,{class:"pt-0"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",f,[(0,t.Lk)("table",_,[i[17]||(i[17]=(0,t.Lk)("thead",{class:"text-muted table-light"},[(0,t.Lk)("tr",{class:"text-uppercase"},[(0,t.Lk)("th",null,"No."),(0,t.Lk)("th",null,"Title"),(0,t.Lk)("th",null,"Status"),(0,t.Lk)("th",null,"Deadline"),(0,t.Lk)("th",null,"Created At"),(0,t.Lk)("th",{class:"text-center"},"Action")])],-1)),(0,t.Lk)("tbody",null,[a.value?((0,t.uX)(),(0,t.CE)("tr",h,[(0,t.Lk)("td",L,[(0,t.bF)(c.A,{class:"avatar-xl",options:D,height:75,width:75}),i[11]||(i[11]=(0,t.Lk)("h5",{class:"mt-2"},"Loading...",-1))])])):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(V.value,(e,l)=>((0,t.uX)(),(0,t.CE)("tr",{key:e.id},[(0,t.Lk)("td",null,(0,u.v_)((A.value-1)*B.value+l+1),1),(0,t.Lk)("td",null,(0,u.v_)(e.title),1),(0,t.Lk)("td",null,[(0,t.Lk)("span",{class:(0,u.C4)(["badge",e.is_active?"bg-success":"bg-danger"])},(0,u.v_)(e.is_active?"Active":"Inactive"),3)]),(0,t.Lk)("td",null,(0,u.v_)((0,n.R1)(b.sL)(e.deadline)),1),(0,t.Lk)("td",null,(0,u.v_)((0,n.R1)(b.sL)(e.created_at)),1),(0,t.Lk)("td",y,[(0,t.bF)(G,{boundary:"viewport",variant:"link","toggle-class":"btn btn-soft-secondary btn-sm arrow-none","menu-class":"dropdown-menu-end text-nowrap"},{"button-content":(0,t.k6)(()=>i[12]||(i[12]=[(0,t.Lk)("i",{class:"ri-more-fill align-middle"},null,-1)])),default:(0,t.k6)(()=>[(0,t.bF)(Q,{as:"router-link",to:`/jobs-details/${e.code}`},{default:(0,t.k6)(()=>i[13]||(i[13]=[(0,t.Lk)("i",{class:"ri-eye-fill me-2 text-muted"},null,-1),(0,t.eW)(" View ",-1)])),_:2,__:[13]},1032,["to"]),(0,t.bF)(Q,{as:"router-link",to:`/manage-jobs/job-update/${e.code}`},{default:(0,t.k6)(()=>i[14]||(i[14]=[(0,t.Lk)("i",{class:"ri-pencil-fill me-2 text-muted"},null,-1),(0,t.eW)(" Edit ",-1)])),_:2,__:[14]},1032,["to"]),(0,t.bF)(Q,{onClick:l=>J(e)},{default:(0,t.k6)(()=>i[15]||(i[15]=[(0,t.Lk)("i",{class:"ri-delete-bin-fill me-2 text-muted"},null,-1),(0,t.eW)(" Delete ",-1)])),_:2,__:[15]},1032,["onClick"])]),_:2},1024)])]))),128)),V.value.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("tr",C,i[16]||(i[16]=[(0,t.Lk)("td",{colspan:"7",class:"text-center text-muted"},[(0,t.Lk)("h5",{class:"mt-2"},"No Result Found"),(0,t.Lk)("p",{class:"mb-0"}," We didn’t find any records for your search. ")],-1)])))],64))])])]),(0,t.bF)(k.A,{currentPage:A.value,perPage:B.value,total:E.value,onPageChange:S,onPerPageChange:$},null,8,["currentPage","perPage","total"])]),_:1})]),_:1})]),_:1}),(0,t.bF)(Y,{modelValue:I.value,"onUpdate:modelValue":i[5]||(i[5]=e=>I.value=e),"hide-footer":"","hide-header-close":"",centered:"","no-close-on-backdrop":"",class:"v-modal-custom"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",F,[(0,t.bF)(c.A,{colors:"primary:#f7b84b,secondary:#405189",trigger:"loop",options:j,height:130,width:130}),(0,t.Lk)("div",x,[i[24]||(i[24]=(0,t.Lk)("h4",{class:"mb-3 text-danger"},"Confirm Delete",-1)),(0,t.Lk)("p",w,[i[18]||(i[18]=(0,t.eW)(" Are you sure you want to delete ",-1)),(0,t.Lk)("strong",null,(0,u.v_)(N.value?.title),1),i[19]||(i[19]=(0,t.eW)("?",-1)),i[20]||(i[20]=(0,t.Lk)("br",null,null,-1)),i[21]||(i[21]=(0,t.eW)(" This action cannot be undone. ",-1))]),(0,t.Lk)("div",W,[(0,t.bF)(T,{variant:"link",class:"fw-medium text-muted",onClick:i[3]||(i[3]=e=>I.value=!1)},{default:(0,t.k6)(()=>i[22]||(i[22]=[(0,t.Lk)("i",{class:"ri-close-line me-1 align-middle"},null,-1),(0,t.eW)(" Cancel ",-1)])),_:1,__:[22]}),(0,t.bF)(T,{type:"button",variant:"danger",disabled:l.value,onClick:i[4]||(i[4]=e=>U())},{default:(0,t.k6)(()=>[l.value?((0,t.uX)(),(0,t.CE)("span",P,i[23]||(i[23]=[(0,t.Lk)("span",{class:"spinner-border spinner-border-sm me-2",role:"status"},[(0,t.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,t.eW)(" Loading... ",-1)]))):((0,t.uX)(),(0,t.CE)("span",R,"Delete"))]),_:1},8,["disabled"])])])])]),_:1},8,["modelValue"])]),_:1})]),_:1})}}};const A=B;var E=A}}]);
//# sourceMappingURL=6074.a9726a15.js.map