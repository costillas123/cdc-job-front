"use strict";(self["webpackChunkvelzon"]=self["webpackChunkvelzon"]||[]).push([[3536],{179:function(e,a,t){t.d(a,{A:function(){return v}});t(4114);var l=t(641),n=t(33),s=t(3751),u=t(953);const r={class:"mb-0 text-muted"},c={class:"fw-semibold"},o={class:"fw-semibold"},i={class:"fw-semibold text-decoration-underline"},d={class:"pagination pagination-separated mb-0"},g={key:1,class:"page-link"};var p={__name:"pagination",props:{currentPage:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0}},emits:["pageChange","perPageChange"],setup(e,{emit:a}){const t=e,p=a,k=(0,u.KR)(t.perPage),v=(0,l.EW)(()=>Math.ceil(t.total/k.value)),m=(0,l.EW)(()=>0===t.total?0:(t.currentPage-1)*k.value+1),b=(0,l.EW)(()=>Math.min(t.currentPage*k.value,t.total)),f=(0,l.EW)(()=>{const e=[];if(v.value<=7)for(let a=1;a<=v.value;a++)e.push(a);else{e.push(1);let a=Math.max(2,t.currentPage-2),l=Math.min(v.value-1,t.currentPage+2);t.currentPage<=4?l=5:t.currentPage>=v.value-3&&(a=v.value-4),a>2&&e.push("…");for(let t=a;t<=l;t++)e.push(t);l<v.value-1&&e.push("…"),e.push(v.value)}return e}),h=e=>{e>=1&&e<=v.value&&p("pageChange",e)},_=()=>p("perPageChange",k.value);return(a,u)=>{const p=(0,l.g2)("BFormSelect"),L=(0,l.g2)("BCol"),C=(0,l.g2)("BLink"),y=(0,l.g2)("BRow");return(0,l.uX)(),(0,l.Wv)(y,{class:"g-0 text-center text-sm-start align-items-center"},{default:(0,l.k6)(()=>[(0,l.bF)(L,{sm:"4",class:"d-flex align-items-center gap-3"},{default:(0,l.k6)(()=>[(0,l.Lk)("p",r,[u[3]||(u[3]=(0,l.eW)(" Showing ",-1)),(0,l.Lk)("span",c,(0,n.v_)(m.value),1),u[4]||(u[4]=(0,l.eW)(" to ",-1)),(0,l.Lk)("span",o,(0,n.v_)(b.value),1),u[5]||(u[5]=(0,l.eW)(" of ",-1)),(0,l.Lk)("span",i,(0,n.v_)(e.total),1),u[6]||(u[6]=(0,l.eW)(" entries ",-1))]),(0,l.bF)(p,{modelValue:k.value,"onUpdate:modelValue":u[0]||(u[0]=e=>k.value=e),options:[10,20,30,50,100],class:"w-auto",onChange:_},null,8,["modelValue"])]),_:1}),(0,l.bF)(L,{sm:"8",class:"d-flex justify-content-end"},{default:(0,l.k6)(()=>[(0,l.Lk)("ul",d,[(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:t.currentPage<=1}])},[(0,l.bF)(C,{href:"#",class:"page-link",onClick:u[1]||(u[1]=(0,s.D$)(e=>h(t.currentPage-1),["prevent"]))},{default:(0,l.k6)(()=>u[7]||(u[7]=[(0,l.eW)(" Previous ",-1)])),_:1,__:[7]})],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(f.value,(e,a)=>((0,l.uX)(),(0,l.CE)("li",{key:a,class:(0,n.C4)(["page-item",{active:t.currentPage===e,disabled:"…"===e}])},["…"!==e?((0,l.uX)(),(0,l.Wv)(C,{key:0,href:"#",class:"page-link",onClick:(0,s.D$)(a=>h(e),["prevent"])},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e),1)]),_:2},1032,["onClick"])):((0,l.uX)(),(0,l.CE)("span",g,"…"))],2))),128)),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:t.currentPage>=v.value}])},[(0,l.bF)(C,{href:"#",class:"page-link",onClick:u[2]||(u[2]=(0,s.D$)(e=>h(t.currentPage+1),["prevent"]))},{default:(0,l.k6)(()=>u[8]||(u[8]=[(0,l.eW)(" Next ",-1)])),_:1,__:[8]})],2)])]),_:1})]),_:1})}}};const k=p;var v=k},3691:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});var l=t(641),n=t(3751),s=t(33),u=t(953),r=t(8674),c=t(2266),o=t(4306),i=t(179),d=t(7016),g=t(4646),p=t(5885);const k={class:"search-box"},v={class:"table-responsive table-card mb-1"},m={class:"table table-nowrap align-middle"},b={key:0},f={colspan:"4",class:"text-center"},h={key:0};var _={__name:"system-logs",setup(e){const a=(0,u.KR)(!1),t=(0,u.KR)(10),_=(0,u.KR)(1),L=(0,u.KR)(0),C=(0,u.KR)(""),y=(0,u.KR)([]),P={animationData:o},F=()=>{C.value="",W(1)},x=e=>{t.value=e,W(1)},W=async(e=1)=>{_.value=e,a.value=!0;try{const a=await(0,p.ni)({search:C.value,per_page:t.value,page:e,type:"admin"}),l=a.data;y.value=l.items||[],L.value=l.total||0}catch(l){console.error(l),g.A.fire({icon:"error",title:l.response?.data?.message||"An error occurred while processing."})}finally{a.value=!1}};return(0,l.sV)(()=>W()),(e,o)=>{const g=(0,l.g2)("BCol"),p=(0,l.g2)("BButton"),w=(0,l.g2)("BRow"),B=(0,l.g2)("BCardHeader"),E=(0,l.g2)("BCardBody"),R=(0,l.g2)("BCard");return(0,l.uX)(),(0,l.Wv)(r.A,null,{default:(0,l.k6)(()=>[(0,l.bF)(w,null,{default:(0,l.k6)(()=>[(0,l.bF)(g,{lg:"12"},{default:(0,l.k6)(()=>[(0,l.bF)(R,{"no-body":"",id:"logList"},{default:(0,l.k6)(()=>[(0,l.bF)(B,{class:"border-0 mb-3"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{class:"align-items-center gy-3"},{default:(0,l.k6)(()=>[(0,l.bF)(g,{cols:"sm"},{default:(0,l.k6)(()=>o[3]||(o[3]=[(0,l.Lk)("h5",{class:"card-title mb-0"},"Settings | System Logs",-1)])),_:1,__:[3]}),(0,l.bF)(g,{sm:"auto",class:"d-flex gap-2 align-items-center"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",k,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control search","onUpdate:modelValue":o[0]||(o[0]=e=>C.value=e),placeholder:"Search by user or action...",onKeyup:o[1]||(o[1]=(0,n.jR)(e=>W(1),["enter"]))},null,544),[[n.Jo,C.value]]),o[4]||(o[4]=(0,l.Lk)("i",{class:"ri-search-line search-icon"},null,-1))]),(0,l.bF)(p,{type:"button",variant:"primary",class:"w-auto",onClick:o[2]||(o[2]=e=>W(1))},{default:(0,l.k6)(()=>o[5]||(o[5]=[(0,l.Lk)("i",{class:"ri-equalizer-fill me-1 align-bottom"},null,-1),(0,l.eW)(" Filters ",-1)])),_:1,__:[5]}),(0,l.bF)(p,{type:"button",variant:"danger",class:"w-auto",onClick:F},{default:(0,l.k6)(()=>o[6]||(o[6]=[(0,l.Lk)("i",{class:"ri-close-circle-line align-bottom"},null,-1)])),_:1,__:[6]})]),_:1})]),_:1})]),_:1}),(0,l.bF)(E,{class:"pt-0"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",v,[(0,l.Lk)("table",m,[o[9]||(o[9]=(0,l.Lk)("thead",{class:"text-muted table-light"},[(0,l.Lk)("tr",{class:"text-uppercase"},[(0,l.Lk)("th",null,"No."),(0,l.Lk)("th",null,"Account Name"),(0,l.Lk)("th",null,"Action"),(0,l.Lk)("th",null,"Created At")])],-1)),(0,l.Lk)("tbody",null,[a.value?((0,l.uX)(),(0,l.CE)("tr",b,[(0,l.Lk)("td",f,[(0,l.bF)(c.A,{class:"avatar-xl",options:P,height:75,width:75}),o[7]||(o[7]=(0,l.Lk)("h5",{class:"mt-2"},"Loading...",-1))])])):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(y.value,(e,a)=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,s.v_)((_.value-1)*t.value+a+1),1),(0,l.Lk)("td",null,(0,s.v_)(e.user.name),1),(0,l.Lk)("td",null,(0,s.v_)(e.action),1),(0,l.Lk)("td",null,(0,s.v_)((0,u.R1)(d.r6)(e.created_at)),1)]))),128)),y.value.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("tr",h,o[8]||(o[8]=[(0,l.Lk)("td",{colspan:"4",class:"text-center text-muted"},[(0,l.Lk)("h5",{class:"mt-2"},"No Result Found"),(0,l.Lk)("p",{class:"mb-0"}," We didn’t find any records for your search. ")],-1)])))],64))])])]),(0,l.bF)(i.A,{currentPage:_.value,perPage:t.value,total:L.value,onPageChange:W,onPerPageChange:x},null,8,["currentPage","perPage","total"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};const L=_;var C=L}}]);
//# sourceMappingURL=3536.7070b0f0.js.map